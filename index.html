<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Welcome to Pit Mode üêæ</title>
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(135deg, #e0f0ff, #b3d9ff);
      color: #003366;
      display: flex;
      flex-direction: column;
      align-items: center;
      min-height: 100vh;
      padding: 2rem;
    }
    h1 {
      font-size: 3rem;
      margin-bottom: 0.5rem;
    }
    p {
      font-size: 1.25rem;
      margin-bottom: 2rem;
      color: #004080;
    }
    .buttons {
      display: flex;
      justify-content: center;
      align-items: center;
      flex-wrap: wrap;
      gap: 20px;
      margin-bottom: 3rem;
    }
    .buttons button {
      background: #007acc;
      color: white;
      border: none;
      padding: 14px 28px;
      font-size: 1.1rem;
      border-radius: 30px;
      box-shadow: 0 6px 14px rgba(0, 0, 0, 0.15);
      cursor: pointer;
      transition: background 0.3s ease;
    }
    .buttons button:hover {
      background: #005f99;
    }
    .card {
      background: white;
      padding: 2rem;
      border-radius: 1rem;
      box-shadow: 0 6px 16px rgba(0, 0, 0, 0.1);
      max-width: 700px;
      width: 100%;
      text-align: center;
    }
    footer {
      margin-top: auto;
      font-size: 0.9rem;
      color: #666;
      padding: 2rem 0 1rem;
    }
  </style>
</head>
<body>

  <div class="card">
    <h1>Welcome to Pit Mode üê∂</h1>
    <p>Click a mode below to test Intercom behavior.</p>

    <div class="buttons">
      <button onclick="loadVisitor()">Visitor</button>
      <button onclick="loadUser()">User</button>
      <button onclick="triggerEvent()">Events</button>
    </div>

    <p>Use the Intercom chat bubble in the corner to test Messenger.</p>
  </div>

  <footer>
    Built for Intercom testing ¬∑ ¬© 2025
  </footer>

  <!-- Messenger Loader -->
  <script>
    function bootIntercom(settings) {
      if (window.Intercom) {
        Intercom('shutdown');
        setTimeout(() => {
          window.intercomSettings = settings;
          Intercom('boot', settings);
        }, 100);
      } else {
        window.intercomSettings = settings;
        (function(){
          var w=window;var ic=w.Intercom;
          var d=document;var i=function(){i.c(arguments)};i.q=[];
          i.c=function(args){i.q.push(args)};
          w.Intercom=i;
          var l=function(){
            var s=d.createElement('script');
            s.type='text/javascript';s.async=true;
            s.src='https://widget.intercom.io/widget/ex23qz7s';
            var x=d.getElementsByTagName('script')[0];
            x.parentNode.insertBefore(s,x);
          };
          if(document.readyState==='complete'){l();}
          else if(w.attachEvent){w.attachEvent('onload',l);}
          else{w.addEventListener('load',l,false);}
        })();
      }
    }

    function loadVisitor() {
      alert("You are now in Visitor mode");
      bootIntercom({
        app_id: "ex23qz7s",
        api_base: "https://api-iam.intercom.io"
      });
    }

    function loadUser() {
      alert("User mode enabled");
      bootIntercom({
        app_id: "ex23qz7s",
        api_base: "https://api-iam.intercom.io",
        user_id: "123456",
        name: "Test User",
        email: "testuser@example.com",
        created_at: Math.floor(Date.now() / 1000)
      });
    }

    function triggerEvent() {
      alert("Firing a sample event");
      if (window.Intercom) {
        Intercom('trackEvent', 'sample-event', {
          custom_info: "pit-mode test"
        });
      }
    }

    // Load visitor mode by default
    window.addEventListener("load", loadVisitor);
  </script>

</body>
</html>

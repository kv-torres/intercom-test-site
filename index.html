<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Pit Mode üêæ</title>
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(135deg, #cce7ff, #e0f7ff);
      color: #003366;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      padding: 2rem;
    }

    h1 {
      font-size: 3rem;
      margin-bottom: 0.5rem;
      color: #003366;
    }

    .buttons {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 16px;
      margin: 2rem 0;
    }

    button {
      background-color: #0074cc;
      color: white;
      border: none;
      padding: 14px 28px;
      font-size: 1rem;
      border-radius: 30px;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
      cursor: pointer;
      transition: background 0.3s ease;
    }

    button:hover {
      background-color: #005fa3;
    }

    p {
      font-size: 1.2rem;
      color: #004080;
      text-align: center;
      max-width: 600px;
    }

    footer {
      margin-top: 4rem;
      font-size: 0.9rem;
      color: #666;
      text-align: center;
    }
  </style>
</head>
<body>

  <h1>Pit Mode üêæ</h1>
  <p>Click a button below to test how Intercom behaves for each mode.</p>

  <div class="buttons">
    <button onclick="loadVisitor()">Visitor</button>
    <button onclick="loadUser()">User</button>
    <button onclick="shutdown()">Shutdown</button>
    <button onclick="triggerEvent()">Events</button>
  </div>

  <footer>
    Built by Karla for Intercom testing üí¨ | Blue & Bully Theme üê∂
  </footer>

  <!-- Intercom Script -->
  <script>
    function bootIntercom(settings) {
      if (window.Intercom) {
        Intercom('shutdown');
        setTimeout(() => {
          window.intercomSettings = settings;
          Intercom('boot', settings);
        }, 100);
      } else {
        window.intercomSettings = settings;
        (function(){
          var w=window;var ic=w.Intercom;
          var d=document;var i=function(){i.c(arguments)};i.q=[];
          i.c=function(args){i.q.push(args)};
          w.Intercom=i;
          var l=function(){
            var s=d.createElement('script');
            s.type='text/javascript';s.async=true;
            s.src='https://widget.intercom.io/widget/ex23qz7s';
            var x=d.getElementsByTagName('script')[0];
            x.parentNode.insertBefore(s,x);
          };
          if(document.readyState==='complete'){l();}
          else if(w.attachEvent){w.attachEvent('onload',l);}
          else{w.addEventListener('load',l,false);}
        })();
      }
    }

    function loadVisitor() {
      bootIntercom({
        app_id: "ex23qz7s",
        api_base: "https://api-iam.intercom.io"
      });
    }

    function loadUser() {
      bootIntercom({
        app_id: "ex23qz7s",
        api_base: "https://api-iam.intercom.io",
        user_id: "user_001",
        name: "Karla Test User",
        email: "karla+test@intercom.com",
        created_at: Math.floor(Date.now() / 1000)
      });
    }

    function shutdown() {
      if (window.Intercom) {
        Intercom('shutdown');
        alert("Intercom shut down.");
      }
    }

    function triggerEvent() {
      if (window.Intercom) {
        Intercom('trackEvent', 'button-clicked', {
          source: 'Pit Mode UI'
        });
        alert("Sample event sent to Intercom!");
      }
    }

    // Load Visitor by default
    window.addEventListener("load", loadVisitor);
  </script>

</body>
</html>
